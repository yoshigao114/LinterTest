name: Format check on pull request
on:
 pull_request:
    branches: [master, main, develop]
jobs:
  dotnet-format:
    runs-on: windows-latest
    steps:
      - name: Setup .NET Core
        uses: actions/setup-dotnet@v3
        with:
          dotnet-version: '7.0.x'

      - name: Checkout repo
        uses: actions/checkout@v3
        with:
          ref: ${{ github.head_ref }}

      - name: Run dotnet format
        id: format
        uses: eero-dev/dotnet-format@d3f2aef1dee3a6e6ed48183722e118ec24635a67
        with:
          repo-token: ${{ secrets.GITHUB_TOKEN }}
          include: Assets/_Project/Scripts/*.cs
          fix-style-level: info
          only-changed-files: true
